[package]
name = "kimchi-wasm"
version.workspace = true
edition.workspace = true
license.workspace = true
description = "WebAssembly verifier for Kimchi proofs generated by kimchi-mobile"

[lib]
crate-type = ["cdylib", "rlib"]

[dependencies]
# Kimchi and proof-systems (same as kimchi-prover)
kimchi = { git = "https://github.com/o1-labs/proof-systems", branch = "master", features = ["wasm_types"] }
poly-commitment = { git = "https://github.com/o1-labs/proof-systems", branch = "master" }
mina-curves = { git = "https://github.com/o1-labs/proof-systems", branch = "master" }
mina-poseidon = { git = "https://github.com/o1-labs/proof-systems", branch = "master" }

# Arkworks
ark-ff = { version = "0.5", default-features = false }
ark-serialize = { version = "0.5", default-features = false }

# Serialization
rmp-serde = "1.3"
serde = { version = "1.0", features = ["derive"] }
hex = "0.4"

# WASM bindings
wasm-bindgen = "0.2"
js-sys = "0.3"
console_error_panic_hook = { version = "0.1", optional = true }

# For getrandom in WASM
getrandom = { version = "0.2", features = ["js"] }

[features]
default = ["console_error_panic_hook"]
